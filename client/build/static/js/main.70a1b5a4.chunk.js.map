{"version":3,"sources":["pages/LoginStyles.js","pages/Login.js","pages/Voting.js","pages/Results.js","pages/History.js","pages/SavedResults.js","pages/OverallResults.js","components/LogoutComponent.js","components/NavBarStyles.js","components/NavBar.js","App.js","index.js"],"names":["makeStyles","theme","loginPaper","display","flexDirection","justifyContent","width","alignItems","backgroundColor","height","breakpoints","down","padding","Login","onLogin","onCreate","firstUsername","roomIdRef","useRef","numberOfVotesRef","roomId","useParams","history","useHistory","useState","usernameList","setUsernameList","username","setUsername","classes","useStyles","useEffect","axios","get","then","res","data","catch","err","console","log","Paper","className","elevation","onChange","e","target","value","map","placeholder","ref","defaultValue","onClick","length","current","room","post","push","window","alert","response","uuidV4","numberOfVotes","Voting","socket","setSocket","users","setUsers","voters","setVoters","creator","setCreator","votingStarted","setVotingStarted","setNumberOfVotes","insertedVotes","setInsertedVotes","calculateVotes","calcVotes","sum","document","querySelectorAll","forEach","el","parseInt","s","io","query","disconnect","on","usernames","filter","user","started","newUser","includes","ps","voter","p","off","index","type","id","style","marginTop","sumVotes","votes","emit","disabled","Results","setVotes","sortedVotes","setSortedVotes","resultNameRef","params","temp","Object","keys","key","_","sortBy","reverse","vote","name","trim","History","list","setList","handleOnClick","moment","date","format","SavedResults","results","setResults","OverallResults","rows","setRows","localStorage","getItem","table","minWidth","StyledTableCell","withStyles","head","color","palette","common","white","body","fontSize","TableCell","StyledTableRow","root","TableRow","allResults","result","eachResult","find","allVotes","attempts","average","sort","TableContainer","component","Table","classname","aria-label","TableHead","cursor","align","TableBody","row","border","scope","LogoutComponent","onLogout","ExitToApp","navBar","link","margin","textDecoration","borderRadius","background","activeLink","toolbar","NavBar","location","useLocation","selected","setSelected","isDesktop","useMediaQuery","pathname","AppBar","to","Typography","variant","position","zIndex","App","setRoom","loginUser","loginRoom","setItem","Container","removeItem","path","exact","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.70a1b5a4.chunk.js","sourcesContent":["import {makeStyles} from '@material-ui/core/styles';\n\nexport default makeStyles((theme) => ({\n  loginPaper: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    width: '75%',\n    alignItems: 'center',\n    backgroundColor:'#e7e7e7',\n    height: '500px',\n    [theme.breakpoints.down('sm')]: {\n      width: '100%',\n      height: '50%',\n      padding: '20px'\n\n    }\n  }\n}));\n","import React, {useRef, useEffect, useState} from 'react'\nimport {useParams, useHistory} from 'react-router-dom'\nimport {Paper} from \"@material-ui/core\";\nimport {v4 as uuidV4} from 'uuid'\nimport axios from 'axios'\nimport './Login.css'\nimport useStyles from './LoginStyles'\n\nfunction Login({onLogin, onCreate, firstUsername}) {\n  const roomIdRef = useRef()\n  const numberOfVotesRef = useRef()\n  const {roomId} = useParams()\n  const history = useHistory()\n  const [usernameList, setUsernameList] = useState([])\n  const [username, setUsername] = useState(firstUsername)\n  const classes = useStyles()\n  useEffect(() => {\n    axios.get('/getUsers').then((res) => {\n      setUsernameList(res.data)\n    }).catch(err => {\n      console.log('err', err)\n    })\n  }, [])\n\n  function createUser() {\n    if (!username.length) {\n      window.alert('select your name')\n      return\n    }\n    if (!roomIdRef.current.value) {\n      window.alert('Enter a room name')\n      return\n    }\n    const room = roomIdRef.current.value\n    axios.post('/login', {\n      username, room\n    }).then(() => {\n      onLogin(username, room)\n      history && history.push(`/voting/${room}`)\n    }).catch((err) => {\n      window.alert(err.response.data)\n    })\n\n  }\n\n  function handleSelectChange(e) {\n    setUsername(e.target.value)\n  }\n\n  function createRoom() {\n    if (!username.length) {\n      window.alert('select your name')\n      return\n    }\n    if (!numberOfVotesRef.current.value) {\n      window.alert('insert number of votes')\n      return\n    }\n    const room = uuidV4()\n    const numberOfVotes = numberOfVotesRef.current.value\n    axios.post('/createRoom', {\n      username, room, numberOfVotes\n    }).then(() => {\n      onCreate(username, room, numberOfVotesRef.current.value)\n      history && history.push(`/voting/${room}`)\n    }).catch((err) => {\n      window.alert(err.response.data)\n    })\n  }\n\n  return (\n    <Paper className={classes.loginPaper} elevation={12}>\n      <select onChange={handleSelectChange} value={username ? username : ''} className='login__select'>\n        <option value=''> Select Name</option>\n        {usernameList.map(username => {\n          return <option value={username} key={username}> {username}</option>\n        })}\n      </select>\n      <div className='login__input-wrapper'>\n        <input placeholder='Enter room name' ref={roomIdRef} defaultValue={roomId}/>\n        <button onClick={createUser}> Login</button>\n      </div>\n      <span> OR</span>\n      <div className='login__input-wrapper'>\n        <input placeholder='Enter number of votes' ref={numberOfVotesRef}/>\n        <button onClick={createRoom}> Create Room</button>\n      </div>\n    </Paper>\n  )\n}\n\nexport default Login\n","import React, {useState, useEffect} from 'react'\nimport io from 'socket.io-client'\nimport {useParams, useHistory} from 'react-router-dom'\nimport './Voting.css'\n\nfunction Voting({username, room}) {\n  const [socket, setSocket] = useState()\n  const [users, setUsers] = useState([])\n  const [voters, setVoters] = useState([])\n  const [creator, setCreator] = useState('')\n  const [votingStarted, setVotingStarted] = useState(false)\n  const [numberOfVotes, setNumberOfVotes] = useState([])\n  const [insertedVotes, setInsertedVotes] = useState(0)\n  const history = useHistory()\n  const {roomId} = useParams()\n  useEffect(() => {\n    if (!username)\n      history.push(`/login/${roomId}`)\n  }, [username, roomId, history])\n\n  useEffect(() => {\n    if (!username) return\n    const s = io('/', {query: {username, room: roomId}})\n    setSocket(s)\n    return () => {\n      s.disconnect(room)\n    }\n  }, [room, username])\n\n  useEffect(() => {\n    if (!socket) return\n    socket.on('get-all-users', res => {\n      setUsers(res.usernames.filter(user =>\n        user !== username\n      ))\n      setNumberOfVotes(parseInt(res.numberOfVotes))\n      setCreator(res.creator)\n      setVotingStarted(res.started)\n    })\n    socket.on('new-user-joined', newUser => {\n      if (users.includes(newUser) || votingStarted)\n        return\n      setUsers(ps => {\n        return [...ps, newUser]\n      })\n    })\n    socket.on('has-voted', voter => {\n      if (voters.includes(voter))\n        return\n      setVoters(ps => {\n        return [...ps, voter]\n      })\n    })\n    socket.on('user-left', newUser => {\n      if (!users.includes(newUser) || votingStarted)\n        return\n      setUsers(ps => {\n        return ps.filter(p => {\n          return p !== newUser\n        })\n      })\n    })\n    socket.on('voting-started', () => {\n        setVotingStarted(true)\n      }\n    )\n    socket.on('receive-votes', () => {\n        history.push(`/result/${roomId}`)\n      }\n    )\n    return () => {\n      socket.off('new-user-joined')\n      socket.off('get-all-users')\n      socket.off('user-left')\n      socket.off('receive-votes')\n      socket.off('voting-started')\n    }\n  }, [socket, users, roomId, history, votingStarted])\n\n  function calculateVotes(e) {\n    if (e.target.value < 0) {\n      window.alert('votes should be positives')\n      e.target.value = 0\n      return\n    }\n    setInsertedVotes(calcVotes)\n  }\n\n  function calcVotes() {\n    let sum = 0\n    document.querySelectorAll('input').forEach(el => {\n      if (el.value < 0) {\n        window.alert('votes should be positives')\n        return\n      }\n      sum += parseInt(el.value || 0)\n    })\n    return sum\n  }\n\n  function sendVotes() {\n    const sumVotes = calcVotes()\n    if (sumVotes !== numberOfVotes) {\n      window.alert(`you have votes remaining: ${numberOfVotes - sumVotes}`)\n    } else {\n      const votes = {}\n      document.querySelectorAll('input').forEach(el => {\n        votes[el.id] = el.value\n      })\n      socket.emit('send-votes', votes, roomId, username)\n      window.alert('votes submitted')\n    }\n  }\n\n  function startVoting() {\n    socket.emit('start-voting', roomId)\n  }\n\n  return (\n    <div className='voting__body'>\n      <span> total votes : {numberOfVotes}</span>\n      <span> remaining votes : {numberOfVotes - insertedVotes}</span>\n\n      <ul className='voting__list'>\n        {users.map((user, index) => (\n          <div className='voting__list-items' key={user}>\n            <li className={voters.includes(user) ? 'voted' : ''}>\n              {index + 1} - {user}\n            </li>\n            <input onChange={calculateVotes} type='number' defaultValue={0} id={user}/>\n          </div>\n        ))}\n      </ul>\n      <button style={{marginTop: '10px'}} onClick={sendVotes} disabled={!votingStarted}> Send</button>\n      {creator === username && <button style={{marginTop: '10px'}} onClick={startVoting}> Start</button>}\n    </div>\n  )\n}\n\nexport default Voting\n","import React, {useState, useEffect, useRef} from 'react'\nimport {useParams, useHistory} from 'react-router-dom'\nimport axios from 'axios'\nimport _ from 'lodash'\nimport './Results.css'\n\nfunction Results({username}) {\n  const [votes, setVotes] = useState({})\n  const [sortedVotes, setSortedVotes] = useState([])\n  const [creator, setCreator] = useState('')\n  const resultNameRef = useRef()\n  const {roomId} = useParams()\n  const history = useHistory()\n  useEffect(() => {\n\n    axios.get('/results', {\n      params: {\n        roomId\n      }\n    }).then((res) => {\n      setVotes(res.data.votes)\n      setCreator(res.data.creator)\n    }).catch(err => {\n      console.log('error ', err)\n    })\n  }, [roomId])\n  useEffect(() => {\n    let temp = []\n    Object.keys(votes).map(key => (\n      temp.push({username: key, votes: votes[key]})\n    ))\n    setSortedVotes(_.sortBy(temp, ['votes']).reverse())\n  }, [votes])\n\n  function saveResults() {\n    if (!resultNameRef.current.value) {\n      window.alert('Enter a name for result')\n      return\n    }\n    axios.post('/saveResult', {votes: sortedVotes, name: resultNameRef.current.value.trim()}).then(() => {\n      history && history.push(`/histories`)\n    }).catch((err) => {\n      window.alert(err.response.data)\n    })\n  }\n\n  return (\n    <div className='result__body'>\n      <span> Voting Results</span>\n      <ul>\n        {sortedVotes.map((vote, index) => {\n          return <li key={vote.username} id={`rank${index}`}> {vote.username} = {vote.votes}</li>\n        })}\n      </ul>\n      {username === creator && <button onClick={saveResults}> Save Results</button>}\n      {username === creator && <input placeholder='Enter a name for voting' ref={resultNameRef}/>}\n    </div>\n  )\n\n}\n\nexport default Results\n","import React, {useState, useEffect} from 'react'\nimport {useHistory} from 'react-router-dom'\nimport axios from 'axios'\nimport moment from 'moment-jalaali'\nimport './History.css'\n\nfunction History() {\n  const [list, setList] = useState([])\n  const history = useHistory()\n  useEffect(() => {\n    axios.get('/history').then((res) => {\n      setList(res.data.reverse())\n    }).catch((err) => {\n      window.alert(err.response.data)\n    })\n  }, [])\n\n  function handleOnClick(el) {\n    history.push(`/histories/${el.name}`)\n  }\n\n  return (\n    <div className='history__body'>\n      <span> Past Voting Results</span>\n      <ul className='history__list'>\n        {list.map((el, index) => {\n          return <li className='history__list-items' onClick={() => {\n            handleOnClick(el)\n          }} key={index}>{el.name} at {moment(el.date, 'jYYYYjMMjDD').format('jYYYY/jMM/jDD')}</li>\n        })}\n      </ul>\n    </div>\n  )\n\n\n}\n\nexport default History\n","import React, {useState, useEffect} from 'react'\nimport {useParams} from 'react-router-dom'\nimport axios from 'axios'\nimport moment from 'moment-jalaali'\nimport './SavedResults.css'\n\nfunction SavedResults() {\n  const {name} = useParams()\n  const [results, setResults] = useState([])\n  useEffect(() => {\n    axios.get(`/history/${name}`).then((res) => {\n      setResults(res.data)\n    }).catch((err) => {\n      window.alert(err.response.data)\n    })\n  }, [name])\n  return (\n    <div className='saved__result__body'>\n      <span> Result of {results.name} at {moment(results.date, 'jYYYYjMMjDD').format('jYYYY/jMM/jDD')}</span>\n      <ul>\n        {results.votes && results.votes.map((el, index) => {\n          return <li key={index} id={index === 0 ? `rank0`: ''}> {el.username} = {el.votes}</li>\n        })}\n      </ul>\n    </div>\n  )\n\n\n}\n\nexport default SavedResults\n","import React, {useState, useEffect} from 'react'\nimport axios from 'axios'\nimport _ from 'lodash'\nimport {makeStyles, withStyles} from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport './OverallResults.css'\n\nfunction OverallResults() {\n  const [rows, setRows] = useState([])\n  const user = localStorage.getItem('MERIT_MONEY_USERNAME') || ''\n  const useStyles = makeStyles({\n    table: {\n      minWidth: 650\n    },\n  });\n  const StyledTableCell = withStyles((theme) => ({\n    head: {\n      backgroundColor: '#5101d1',\n      color: theme.palette.common.white,\n\n    },\n    body: {\n      fontSize: 14,\n    },\n  }))(TableCell);\n\n  const StyledTableRow = withStyles((theme) => ({\n    root: {\n      '&:nth-of-type(odd)': {\n        backgroundColor: '#e7e7e7',\n      },\n    },\n  }))(TableRow);\n  useEffect(() => {\n    axios.get(`/overall`).then((res) => {\n      const allResults = res.data\n      let result = []\n      allResults.map(eachResult => {\n        eachResult.votes.map(vote => {\n          const temp = _.find(result, (res) => {\n            return res.username === vote.username\n          })\n          if (temp) {\n            temp.allVotes += vote.votes\n            temp.attempts++\n          } else {\n            result.push({username: vote.username, allVotes: parseInt(vote.votes), attempts: 1})\n          }\n        })\n      })\n      result.map(res => {\n        res.average = parseInt(res.allVotes / res.attempts)\n      })\n      setRows(_.sortBy(result, ['average']).reverse())\n    }).catch((err) => {\n      window.alert(err.response.data)\n    })\n  }, [])\n  const classes = useStyles()\n  const sort = (type) => {\n    setRows(_.sortBy(rows, [type]).reverse())\n  }\n  return (\n    <div className='overall__result__body'>\n      <span>Summary of All Voting </span>\n      <TableContainer component={Paper}>\n        <Table classname={classes.table} aria-label=\"simple table\">\n          <TableHead>\n            <TableRow>\n              <StyledTableCell>Username</StyledTableCell>\n              <StyledTableCell style={{cursor: 'pointer'}} align=\"center\"\n                               onClick={() => sort('allVotes')}>Votes</StyledTableCell>\n              <StyledTableCell style={{cursor: 'pointer'}} align=\"center\"\n                               onClick={() => sort('attempts')}>Attempts</StyledTableCell>\n              <StyledTableCell style={{cursor: 'pointer'}} align=\"center\"\n                               onClick={() => sort('average')}>Average</StyledTableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {rows.map((row) => (\n              <StyledTableRow style={{border: row.username === user ? '5px solid #5101d1': ''}} key={row.username}>\n                <StyledTableCell component=\"th\" scope=\"row\">\n                  {row.username}\n                </StyledTableCell>\n                <StyledTableCell align=\"center\">{row.allVotes}</StyledTableCell>\n                <StyledTableCell align=\"center\">{row.attempts}</StyledTableCell>\n                <StyledTableCell align=\"center\">{row.average}</StyledTableCell>\n              </StyledTableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </div>\n  )\n\n\n}\n\nexport default OverallResults\n","import React from 'react'\nimport {useHistory} from 'react-router-dom'\nimport {ExitToApp} from '@material-ui/icons';\nimport './LogoutComponent.css'\n\nexport default function LogoutComponent({username, onLogout}) {\n  const history = useHistory()\n\n  function logout() {\n    onLogout()\n    history.push('/login')\n  }\n\n  return (\n    <div className='logout__component' onClick={logout}>\n      <span>{username}</span>\n      <ExitToApp/>\n    </div>\n  )\n}\n","import {makeStyles} from '@material-ui/core/styles';\n\nexport default makeStyles((theme) => ({\n  navBar: {\n    display: 'flex',\n    flexDirection: 'row',\n    height: '100px',\n    backgroundColor: '#5101d1',\n\n    alignItems: 'center',\n\n    [theme.breakpoints.down('sm')]: {\n      justifyContent: 'center',\n      height: '50px'\n    }\n  },\n  link: {\n    padding: '5px 10px',\n    margin: '0 5px',\n    textDecoration: 'none',\n    color: 'white',\n    fontSize: '16px',\n\n    '&:hover': {\n      color: '#5101d1',\n      borderRadius: '5px',\n      background: 'white',\n    },\n  }, activeLink: {\n    padding: '5px 10px',\n    textDecoration: 'none',\n    fontSize: '16px',\n    margin: '0 5px',\n    color: '#5101d1',\n    borderRadius: '5px',\n    background: 'white',\n  },\n  toolbar: {\n    display: 'flex',\n    flexDirection: 'row',\n    padding: '10px 10px'\n  }\n}));\n","import React , {useState,useEffect} from 'react'\nimport {AppBar, Typography, useMediaQuery} from \"@material-ui/core\";\nimport LogoutComponent from \"./LogoutComponent\"\nimport {Link,useLocation} from 'react-router-dom'\nimport useStyles from './NavBarStyles'\n\nconst NavBar = ({username, setUsername}) => {\n  const classes = useStyles()\n  const location = useLocation()\n  const [selected,setSelected] = useState('login')\n  const isDesktop = useMediaQuery('(min-width:600px)')\n  useEffect(()=> {\n    if (location.pathname.includes('overall')) setSelected('overalls')\n    if (location.pathname.includes('histories')) setSelected('histories')\n    if (location.pathname.includes('login')) setSelected('login')\n  },[location])\n  return (\n    <AppBar className={classes.navBar} elevation={6}>\n      <Link className={selected === 'login' ? classes.activeLink : classes.link} to={'/login'} onClick={() => setSelected('login')}>\n        <Typography variant={'a'}>Login</Typography>\n      </Link>\n      <Link className={selected === 'histories' ? classes.activeLink : classes.link} to={'/histories'} onClick={() => setSelected('histories')}>\n        <Typography variant={'a'}>History</Typography>\n      </Link>\n      <Link className={selected === 'overalls' ? classes.activeLink : classes.link} to={'/overalls'} onClick={() => setSelected('overalls')}>\n        <Typography variant={'a'}>Overall</Typography>\n      </Link>\n      {isDesktop &&\n      <div style={{position: 'absolute', display: 'flex', justifyContent: 'center', width: '100%',zIndex:'-19'}}>\n        <Typography variant={'h4'}>\n          Welcome To Merit Money Project</Typography></div>}\n      {username && <LogoutComponent username={username} onLogout={setUsername}/>}\n    </AppBar>\n  )\n}\n\nexport default NavBar\n","import React, {useState} from 'react'\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from 'react-router-dom'\nimport {Container} from '@material-ui/core'\nimport Login from './pages/Login'\nimport Voting from './pages/Voting'\nimport Results from './pages/Results'\nimport History from './pages/History'\nimport SavedResults from './pages/SavedResults'\nimport OverallResults from './pages/OverallResults'\nimport NavBar from './components/NavBar'\nimport './App.css'\n\nfunction App() {\n  // const [username, setUsername] = useLocalStorage('username')\n  // const [room, setRoom] = useLocalStorage('room')\n  const [username, setUsername] = useState(localStorage.getItem('MERIT_MONEY_USERNAME') || '')\n  const [room, setRoom] = useState('')\n\n  function onLogin(loginUser, loginRoom) {\n    setUsername(loginUser)\n    setRoom(loginRoom)\n    localStorage.setItem('MERIT_MONEY_USERNAME', loginUser)\n  }\n\n  function onLogout() {\n    setUsername('')\n    localStorage.removeItem('MERIT_MONEY_USERNAME')\n  }\n\n  function onCreate(loginUser, loginRoom) {\n    localStorage.setItem('MERIT_MONEY_USERNAME', loginUser)\n    setUsername(loginUser)\n    setRoom(loginRoom)\n  }\n\n  return (\n    <Router>\n      <Container style={{height:'100vh',display:'flex', justifyContent:'center'}}>\n        <NavBar username={username} setUsername={onLogout}/>\n        <Switch>\n          <Route path='/' exact>\n            <Redirect to={`/login`}/>\n          </Route>\n          <Route path='/login/:roomId'>\n            {username ? <Redirect to={`/voting/${room}`}/> :\n              <Login onLogin={onLogin} onCreate={onCreate}/>}\n          </Route>\n          <Route path='/login'>\n            <Login onLogin={onLogin} onCreate={onCreate} firstUsername={username}/>\n          </Route>\n          <Route path='/voting/:roomId'>\n            <Voting username={username} room={room}/>\n          </Route>\n          <Route path='/result/:roomId'>\n            <Results username={username}/>\n          </Route>\n          <Route path='/histories/:name'>\n            <SavedResults/>\n          </Route>\n          <Route path='/histories'>\n            <History/>\n          </Route>\n          <Route path='/overalls'>\n            <OverallResults/>\n          </Route>\n        </Switch>\n      </Container>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}